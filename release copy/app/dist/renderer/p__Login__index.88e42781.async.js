"use strict";(self.webpackChunkibp=self.webpackChunkibp||[]).push([[739],{77075:function($e,de,e){e.r(de),e.d(de,{default:function(){return je}});var ae=e(42122),Ce=e.n(ae),G=e(17061),j=e.n(G),ye=e(17156),K=e.n(ye),Pe=e(27424),H=e.n(Pe),xe=e(87334),N=e(1413),ne=e(44925),r=e(85893),fe=e(43420),se=["fieldProps","proFieldProps"],Ze=["fieldProps","proFieldProps"],s="text",Fe=function(l){var v=l.fieldProps,p=l.proFieldProps,c=(0,ne.Z)(l,se);return(0,r.jsx)(fe.Z,(0,N.Z)({valueType:s,fieldProps:v,filedConfig:{valueType:s},proFieldProps:p},c))},Se=function(l){var v=l.fieldProps,p=l.proFieldProps,c=(0,ne.Z)(l,Ze);return(0,r.jsx)(fe.Z,(0,N.Z)({valueType:"password",fieldProps:v,proFieldProps:p,filedConfig:{valueType:s}},c))},oe=Fe;oe.Password=Se,oe.displayName="ProFormComponent";var W=oe,Ne=e(96177),ve=e(80226),Be=e(89020),Te=e(4107),Q=e(74165),me=e(15861),le=e(29439),Ee=e(61814),ie=e(49409),f=e(67294),pe=e(42571),g=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],t=f.forwardRef(function(u,l){var v=ie.Z.useFormInstance(),p=(0,f.useState)(u.countDown||60),c=(0,le.Z)(p,2),V=c[0],X=c[1],Y=(0,f.useState)(!1),O=(0,le.Z)(Y,2),$=O[0],F=O[1],m=(0,f.useState)(),R=(0,le.Z)(m,2),d=R[0],D=R[1],ge=u.rules,ee=u.name,A=u.phoneName,w=u.fieldProps,b=u.captchaTextRender,re=b===void 0?function(P,L){return P?"".concat(L," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:b,z=u.captchaProps,S=(0,ne.Z)(u,g),E=function(){var P=(0,me.Z)((0,Q.Z)().mark(function L(M){return(0,Q.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,D(!0),x.next=4,S.onGetCaptcha(M);case 4:D(!1),F(!0),x.next=13;break;case 8:x.prev=8,x.t0=x.catch(0),F(!1),D(!1),console.log(x.t0);case 13:case"end":return x.stop()}},L,null,[[0,8]])}));return function(M){return P.apply(this,arguments)}}();return(0,f.useImperativeHandle)(l,function(){return{startTiming:function(){return F(!0)},endTiming:function(){return F(!1)}}}),(0,f.useEffect)(function(){var P=0,L=u.countDown;return $&&(P=window.setInterval(function(){X(function(M){return M<=1?(F(!1),clearInterval(P),L||60):M-1})},1e3)),function(){return clearInterval(P)}},[$]),(0,r.jsxs)("div",{style:(0,N.Z)((0,N.Z)({},w==null?void 0:w.style),{},{display:"flex",alignItems:"center"}),ref:l,children:[(0,r.jsx)(Te.Z,(0,N.Z)((0,N.Z)({},w),{},{style:{flex:1,transition:"width .3s",marginRight:8}})),(0,r.jsx)(ve.Z,(0,N.Z)((0,N.Z)({style:{display:"block"},disabled:$,loading:d},z),{},{onClick:function(){var P=(0,me.Z)((0,Q.Z)().mark(function M(){var te;return(0,Q.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!A){n.next=9;break}return n.next=4,v.validateFields([A].flat(1));case 4:return te=v.getFieldValue([A].flat(1)),n.next=7,E(te);case 7:n.next=11;break;case 9:return n.next=11,E("");case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0);case 16:case"end":return n.stop()}},M,null,[[0,13]])}));function L(){return P.apply(this,arguments)}return L}(),children:re($,V)}))]})}),i=(0,pe.G)(t),a=i,o=e(3227),C=e(76772),y=e(48086),B={container:"container___YWDic",loginBox:"loginBox___ZeM8h",formFooter:"formFooter___uqGam",header:"header___POBaX",title:"title___tPr6T"},k=function(l){var v=l.logo,p=l.title,c=l.subTitle,V=l.titleStyle;return(0,r.jsxs)("div",{className:B.header,children:[p&&(0,r.jsxs)("div",{className:B.title,style:V,children:[v&&(0,r.jsx)("img",{src:v,alt:"logo"}),(0,r.jsx)("h1",{children:p})]}),c&&(0,r.jsx)("p",{children:c})]})},q=k,U=function(l){var v=l.status,p=l.content;return(0,r.jsx)(C.Z,{style:{marginBottom:24},message:p,type:v,showIcon:!0})},_={logo:xe,title:"\u6295\u884C\u627F\u505A\u52A9\u624B",titleStyle:{justifyContent:"center"}},ce={title:"\u627E\u56DE\u5BC6\u7801",subTitle:"\u9A8C\u8BC1\u7801\u5C06\u4F1A\u53D1\u9001\u81F3\u4F60\u7684\u624B\u673A"},ue={title:"\u8BBE\u7F6E\u65B0\u5BC6\u7801",subTitle:"\u5BC6\u7801\u4E3A8-16\u4F4D\uFF0C\u533A\u5206\u5927\u5C0F\u5199"},he=function(){var l=(0,f.useState)(!1),v=H()(l,2),p=v[0],c=v[1],V=(0,f.useState)({}),X=H()(V,2),Y=X[0],O=X[1],$=(0,f.useState)("login"),F=H()($,2),m=F[0],R=F[1],d=(0,f.useState)(_),D=H()(d,2),ge=D[0],ee=D[1],A=ie.Z.useForm(),w=H()(A,1),b=w[0],re=(0,o.useModel)("@@initialState"),z=re.initialState,S=re.setInitialState;(0,f.useEffect)(function(){switch(m){case"login":ee(_);break;case"forgetPassword":ee(ce);break;case"resetPassword":ee(ue);break}O({}),b.resetFields()},[m,b]);var E=(0,f.useCallback)(function(){switch(m){case"login":return"\u767B\u5F55";case"forgetPassword":return"\u4E0B\u4E00\u6B65";case"resetPassword":return"\u91CD\u7F6E\u5BC6\u7801";default:return""}},[m]),P=(0,f.useCallback)(function(){m==="login"&&R("forgetPassword")},[m]),L=function(){var n=K()(j()().mark(function Z(){return j()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:case"end":return J.stop()}},Z)}));return function(){return n.apply(this,arguments)}}(),M=function(){var n=K()(j()().mark(function Z(h){var J,I,Ie,we,Le,Me,Oe;return j()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:console.log(h),J=h.username,I=h.password,Ie=h.mobile,we=h.captcha,Le=h.newPassword,Me=h.repeatPassword,O({}),c(!0),T.t0=m,T.next=T.t0==="login"?7:T.t0==="forgetPassword"?10:T.t0==="resetPassword"?13:15;break;case 7:try{}catch(Re){Oe="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",console.log(Re),y.ZP.error(Oe)}return c(!1),T.abrupt("break",15);case 10:return R("resetPassword"),console.log(Ie,we),T.abrupt("break",15);case 13:return console.log(Le,Me),T.abrupt("break",15);case 15:case"end":return T.stop()}},Z)}));return function(h){return n.apply(this,arguments)}}(),te=Y.status,x=Y.content;return(0,r.jsx)("div",{className:B.container,children:(0,r.jsxs)("div",{className:B.loginBox,children:[(0,r.jsx)(q,Ce()({},ge)),(0,r.jsxs)(ie.Z,{form:b,onFinish:function(){var n=K()(j()().mark(function Z(h){return j()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,M(h);case 2:case"end":return I.stop()}},Z)}));return function(Z){return n.apply(this,arguments)}}(),children:[te&&(0,r.jsx)(U,{status:te,content:x}),m==="login"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{name:"username",fieldProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7\u6216\u624B\u673A\u53F7: admin",rules:[{required:!0,message:"\u8D26\u53F7\u6216\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,r.jsx)(W.Password,{name:"password",fieldProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801: password",rules:[{required:!0,message:"\u767B\u5F55\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}]})]}),m==="forgetPassword"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{fieldProps:{size:"large"},name:"mobile",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^1\d{10}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]}),(0,r.jsx)(a,{fieldProps:{size:"large"},phoneName:"mobile",captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(Z,h){return Z?"".concat(h," \u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:function(){var n=K()(j()().mark(function Z(h){return j()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:console.log(h),O({status:"success",content:"\u9A8C\u8BC1\u7801\u5DF2\u53D1\u9001"}),y.ZP.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 3:case"end":return I.stop()}},Z)}));return function(Z){return n.apply(this,arguments)}}()})]}),m==="resetPassword"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W.Password,{name:"newPassword",fieldProps:{size:"large"},placeholder:"\u65B0\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,r.jsx)(W.Password,{name:"repeatPassword",fieldProps:{size:"large"},placeholder:"\u518D\u6B21\u8F93\u5165\u65B0\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}]})]}),(0,r.jsx)(ve.Z,{loading:p,size:"large",type:"primary",htmlType:"submit",style:{width:"100%"},children:E()})]}),(0,r.jsxs)("div",{className:B.formFooter,children:[m==="login"?(0,r.jsx)("a",{children:"oa\u767B\u5F55"}):(0,r.jsx)("a",{onClick:function(){return R("login")},children:"\u53BB\u767B\u9646"}),(0,r.jsx)("a",{style:{float:"right"},onClick:P,children:m==="login"?"\u5FD8\u8BB0\u5BC6\u7801":"\u8054\u7CFB\u7BA1\u7406\u5458"})]})]})})},je=he},76772:function($e,de,e){e.d(de,{Z:function(){return pe}});var ae=e(87462),Ce=e(29439),G=e(4942),j=e(38819),ye=e(15873),K=e(43061),Pe=e(73218),H=e(54549),xe=e(68855),N=e(57119),ne=e(40847),r=e(68628),fe=e(94184),se=e.n(fe),Ze=e(63441),s=e(67294),Fe=e(53124),Se=e(5467),oe=e(96159),W=e(15671),Ne=e(43144),ve=e(79340),Be=e(98557),Te=function(g){(0,ve.Z)(i,g);var t=(0,Be.Z)(i);function i(){var a;return(0,W.Z)(this,i),a=t.apply(this,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,Ne.Z)(i,[{key:"componentDidCatch",value:function(o,C){this.setState({error:o,info:C})}},{key:"render",value:function(){var o=this.props,C=o.message,y=o.description,B=o.children,k=this.state,q=k.error,U=k.info,_=U&&U.componentStack?U.componentStack:null,ce=typeof C>"u"?(q||"").toString():C,ue=typeof y>"u"?_:y;return q?s.createElement(pe,{type:"error",message:ce,description:s.createElement("pre",null,ue)}):B}}]),i}(s.Component),Q=function(g,t){var i={};for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&t.indexOf(a)<0&&(i[a]=g[a]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(g);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(g,a[o])&&(i[a[o]]=g[a[o]]);return i},me={success:j.Z,info:ne.Z,error:K.Z,warning:xe.Z},le={success:ye.Z,info:r.Z,error:Pe.Z,warning:N.Z},Ee=function(t){var i=t.description,a=t.icon,o=t.prefixCls,C=t.type,y=(i?le:me)[C]||null;return a?(0,oe.wm)(a,s.createElement("span",{className:"".concat(o,"-icon")},a),function(){return{className:se()("".concat(o,"-icon"),(0,G.Z)({},a.props.className,a.props.className))}}):s.createElement(y,{className:"".concat(o,"-icon")})},ie=function(t){var i=t.isClosable,a=t.closeText,o=t.prefixCls,C=t.closeIcon,y=t.handleClose;return i?s.createElement("button",{type:"button",onClick:y,className:"".concat(o,"-close-icon"),tabIndex:0},a?s.createElement("span",{className:"".concat(o,"-close-text")},a):C):null},f=function(t){var i,a=t.description,o=t.prefixCls,C=t.message,y=t.banner,B=t.className,k=B===void 0?"":B,q=t.style,U=t.onMouseEnter,_=t.onMouseLeave,ce=t.onClick,ue=t.afterClose,he=t.showIcon,je=t.closable,u=t.closeText,l=t.closeIcon,v=l===void 0?s.createElement(H.Z,null):l,p=t.action,c=Q(t,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),V=s.useState(!1),X=(0,Ce.Z)(V,2),Y=X[0],O=X[1],$=s.useRef(),F=s.useContext(Fe.E_),m=F.getPrefixCls,R=F.direction,d=m("alert",o),D=function(S){var E;O(!0),(E=c.onClose)===null||E===void 0||E.call(c,S)},ge=function(){var S=c.type;return S!==void 0?S:y?"warning":"info"},ee=u?!0:je,A=ge(),w=y&&he===void 0?!0:he,b=se()(d,"".concat(d,"-").concat(A),(i={},(0,G.Z)(i,"".concat(d,"-with-description"),!!a),(0,G.Z)(i,"".concat(d,"-no-icon"),!w),(0,G.Z)(i,"".concat(d,"-banner"),!!y),(0,G.Z)(i,"".concat(d,"-rtl"),R==="rtl"),i),k),re=(0,Se.Z)(c);return s.createElement(Ze.Z,{visible:!Y,motionName:"".concat(d,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(S){return{maxHeight:S.offsetHeight}},onLeaveEnd:ue},function(z){var S=z.className,E=z.style;return s.createElement("div",(0,ae.Z)({ref:$,"data-show":!Y,className:se()(b,S),style:(0,ae.Z)((0,ae.Z)({},q),E),onMouseEnter:U,onMouseLeave:_,onClick:ce,role:"alert"},re),w?s.createElement(Ee,{description:a,icon:c.icon,prefixCls:d,type:A}):null,s.createElement("div",{className:"".concat(d,"-content")},C?s.createElement("div",{className:"".concat(d,"-message")},C):null,a?s.createElement("div",{className:"".concat(d,"-description")},a):null),p?s.createElement("div",{className:"".concat(d,"-action")},p):null,s.createElement(ie,{isClosable:!!ee,closeText:u,prefixCls:d,closeIcon:v,handleClose:D}))})};f.ErrorBoundary=Te;var pe=f}}]);
